# 📌.gitignore

gitignore 它发挥了黑名单的作用。它配置 git 完全忽略 .gitnore 指向的文件。对这些文件上产生的变更，它将不跟踪，不提醒。

**使用场景**
运行项目时候会生成大量的中间文件（日志、生成文件等），开发者往往不希望 git 关心这些庞杂、重复、易变更的文件。通过 .gitignore 配置。git 不会对它们的变更做任何提醒。



**图示**

<img src="https://raw.githubusercontent.com/ChenXuRiYue/image-cloud/main/typora/image-20250825232843278.png" alt="image-20250825232843278" style="zoom:33%;" />

上图展示了变更在 .gitignore 标记下，git 的工作流程。

## 📄 语法

### 🔖 基础模式匹配

| 模式              | 示例           | 作用                                             | 说明                             |
| :---------------- | :------------- | :----------------------------------------------- | :------------------------------- |
| **简单文本**      | `file.txt`     | 忽略所有名为 `file.txt` 的文件。                 | 精确匹配文件名。                 |
| **目录忽略**      | `dir/`         | 忽略所有名为 `dir` 的目录。**尾随 `/` 是关键**。 | 忽略整个目录及其下的所有内容。   |
| **通配符 ***    | `*.log`        | 忽略所有 `.log` 扩展名的文件。                   | 匹配任意数量的字符（包括零个）。 |
| **通配符 ?**    | `?.tmp`        | 忽略所有类似 `a.tmp`, `1.tmp` 的单字符临时文件。 | 匹配任何一个单字符。             |
| **字符范围 []** | `[abc].txt`    | 忽略 `a.txt`, `b.txt`, `c.txt`。                 | 匹配方括号内的任何一个字符。     |
| **数字范围**      | `log[0-9].txt` | 忽略 `log0.txt` 到 `log9.txt`。                  | `[0-9]` 匹配任何单个数字。       |



### 🔖 高级模式与路径规范

| 模式                | 示例             | 作用                                                         | 说明                                              |
| :------------------ | :--------------- | :----------------------------------------------------------- | :------------------------------------------------ |
| **双星号 ****   | `**/logs`        | 忽略任何位置的 `logs` 目录。                                 | 匹配任意中间目录（递归）。                        |
| **双星号用法2**     | `docs/**/*.pdf`  | 忽略 `docs` 目录下所有子目录中的 `.pdf 文件。 |`**/` 匹配零个或多个目录。|
| **路径前缀 /** | `/debug.log`     | 仅忽略项目**根目录**下的 `debug.log`。                       | 前导 `/` 将模式锚定在 `.gitignore` 文件所在目录。 |
| **路径中段 /\*** | `apps/*/build/`  | 忽略所有像 `apps/foo/build/` 这样的目录，但不包括 `apps/foo/bar/build/`。 | 匹配一层目录。                                    |
| **路径中段 /\**** | `apps/**/build/` | 忽略所有像 `apps/foo/build/` 和 `apps/foo/bar/build/` 这样的目录。 | `**` 匹配任意层级的中间目录。                     |



### 🔖  取反规则（白名单）

| 模式            | 示例                     | 作用                                                 | 说明                                                       |
| :-------------- | :----------------------- | :--------------------------------------------------- | :--------------------------------------------------------- |
| **取反 `!\**`** | `*.txt` `!important.txt` | 忽略所有 `.txt` 文件，但**不忽略** `important.txt`。 | **规则顺序至关重要**：取反规则必须出现在忽略它的规则之后。 |



### 🔖 注释和空白

| 模式              | 示例                  | 作用                                   | 说明                                    |
| :---------------- | :-------------------- | :------------------------------------- | :-------------------------------------- |
| **注释 `#**`**    | `# This is a comment` | 这是一行注释，会被 Git 忽略。          | 用于解释规则或临时禁用规则。            |
| **空行**          | （无内容）            | 空行会被忽略，无任何效果。             | 用于分隔规则，提高可读性。              |
| **转义字符 ` \`** | `\#not-a-comment.txt` | 忽略名为 `#not-a-comment.txt` 的文件。 | 用于转义特殊字符（如 `#`, `!`, 空格）。 |

## 📄 优先级和多文件规则

项目中有多个gitignore 文件

### 🔖 优先级

1. 命令行中指定模式
2. 同一目录中 `.gitignore` 文件的规则。
3. 父目录中 `.gitignore` 文件的规则。
4. `.git/info/exclude` 文件的规则（本地仓库有效）。
5. 全局核心排除文件（用户主目录下的 `~/.config/git/ignore`，对所有仓库有效）。

## 📄 实践trick

1. 善用现代化的 IDEA，它为 gitignore 提供了支持。
2. 总结各种语境下的 gitignore 模版。经典Spring boot 项目下，项目的结构概况一致，其 gitignore 文件具有通用性。

## 🌳 生长思考



## 💭 反复绊脚



## 🗺️ 修订记录



## 🛠️ 实践经历

### 🔖Spring-Demo

[Spring demo github repository](https://github.com/ChenXuRiYue/spring-demo)

```gitignore
# HELP.md - 项目帮助文档，通常不需要纳入版本控制，因为通常是自动生成或包含特定环境信息。
HELP.md

# 忽略所有名为 target/ 的目录。这是 Maven 默认的构建输出目录，包含编译后的类文件、JAR包等。
target/

# 但特别排除（不忽略）Maven Wrapper 的 Jar 文件。
# Maven Wrapper (mvnw) 是一个重要的项目组件，它允许在没有预先安装Maven的机器上也能构建项目。
!.mvn/wrapper/maven-wrapper.jar

# 排除（不忽略）源码目录下的 target 文件夹。
# 某些插件或工具（如 spring-boot) 可能会在源码目录内生成额外的 target 文件夹，此规则确保它们不被忽略。
!**/src/main/**/target/
!**/src/test/**/target/


### STS (Spring Tool Suite) ###
# 这是一款基于 Eclipse 的、专门为 Spring 开发定制的 IDE。以下文件都是其生成的工程元数据和工作区文件。
.apt_generated  # 注解处理工具（Annotation Processing Tool）生成的源文件。
.classpath      # 定义项目的Java构建路径（依赖的JAR库等），因人而异，不应共享。
.factorypath    # 特定于 Eclipse 的注解处理配置。
.project        # Eclipse 项目核心配置文件，包含项目名称和构建器等基本信息。
.settings       # 目录，包含Eclipse项目特定的设置（如代码格式化、编译器版本），不应共享。
.springBeans    # STS 用于缓存 Spring Bean 定义信息的文件。
.sts4-cache     # STS 4.x 版本的缓存目录，用于提升性能。


### IntelliJ IDEA ###
# 当今最流行的Java IDE之一。其工作区文件包含个人设置和索引，不应纳入版本控制。
.idea/          # 目录，包含整个项目或模块的配置（运行配置、版本控制设置、代码风格等）。
*.iws           # IntelliJ 工作空间设置文件，包含打开的文件、窗口布局等个人偏好。
*.iml           # IntelliJ 模块文件，包含模块的依赖、构建设置等。通常由Maven/Gradle自动生成。
*.ipr           # IntelliJ 项目文件（旧版本），包含项目级别的设置。


### NetBeans ###
# 另一款流行的开源 IDE。同样，其项目构建和配置信息是本地化的。
/nbproject/private/ # 目录，包含NetBeans项目的私有用户配置（如打开的文件）。
/nbbuild/          # NetBeans 特定的构建输出目录。
/dist/             # NetBeans 用于存放最终构建产物（如JAR包）的目录。
/nbdist/           # NetBeans 分发目录。
/.nb-gradle/       # NetBeans 对 Gradle 项目的支持文件。
build/             # Gradle 构建工具的默认输出目录（与Maven的target/类似）。

# 排除（不忽略）源码目录下的 build 文件夹。
# 类似于上面的 Maven target 规则，确保源码目录内由其他工具生成的 build 目录不被误杀。
!**/src/main/**/build/
!**/src/test/**/build/


### VS Code ###
# 轻量级但功能强大的编辑器，通过插件对Java支持良好。其配置也应在团队间共享。
.vscode/         # 目录，包含VS Code的项目工作区设置（调试配置、推荐插件、任务等）。
                 # 注意：团队可以协商将一些标准化配置（如代码格式化规则）提交并共享。
```





## ⚙️ Prompt

1. 探索语法

```markdown
# 背景
我是一名入门的后端工程师，我正在进一步深入的学习 .gitignore 技术的相关机制。对于 git，我似乎只停留在使用上，你应该同时指导我做一些补充。

# 问题
1. 我需要编写一份语法清单。请你给我充分详细的材料

# 共识
1. 我总结了基本的介绍
gitignore 它发挥了黑名单的作用。它配置 git ，完全忽略 .gitnore 指向的文件。不跟踪，不提醒。

**使用场景**
运行项目时候会生成大量的中间文件（日志、生成文件等），开发者往往完全不希望 git 关心这些庞杂、重复、易变更的文件。通过 .gitignore 配置。git 不会对它们的变更做任何提醒。

```

2. 概述优化

````markdown
# 背景
我是一名入门的后端工程师，我正在进一步深入的学习 .gitignore 技术的相关机制。对于 git，我似乎只停留在使用上，你应该同时指导我做一些补充。

# 问题
1. 假设我要和别人说我对 .gitgnore 的第一印象。我给出以下这段话，我希望你点评，并且给出润色建议。
```txt
在使用 git 仓库时，它发挥了白名单的作用。即对 git 说，我不关心 .gitnore 指向的文件。不要跟踪记录，甚至不要提醒我，没有暂存

在以下下场景效果显著：

1. 运行项目时候会生成大量的中间文件，我们希望 git 不关心这些文件。即不追踪，不记录保持stage 干净整洁。
```
````



