# ğŸ ç«èµ›æ ‡é¢˜

ğŸ† æ’å 245/1711

ğŸˆ è¿‡é¢˜æ•° 3

ğŸ”– ç®—æ³•æ ‡ç­¾ äºŒåˆ†ã€æœç´¢

# ğŸ’­ å¤ç›˜

ç®€å•é—®é¢˜é”™è¯¯ç‡éå¸¸é«˜

<img src="https://raw.githubusercontent.com/ChenXuRiYue/image-cloud/main/typora/image-20250814125457998.png" alt="image-20250814125457998" style="zoom: 25%;" />



A é¢˜é”™å››å‘ï¼šå¯¹æ¨¡å‹æŠŠæ¡ä¸æ¸…æ™°ï¼Œè¾¹ç•Œæ²¡ç®—å¥½
Dé¢˜ï¼šæ—¶é—´ä¸è¶³å®¹æ˜“æ­»è„‘ç­‹ä¸€ä¸ªåŠ²å„¿æƒ³æ„é€ 

æ— ä»–ï¼š

1. æé«˜è‡ªæ£€å¤„ç† bug èƒ½åŠ›
2. è„‘å­æœ‰å»ºæ¨¡
3. æœ‰å…¶ä»–çš„æ–¹æ³•å—

# ğŸª¾è¡¥é¢˜

## [Q4. ä¸‹ä¸€ä¸ªç‰¹æ®Šå›æ–‡æ•°](https://leetcode.cn/contest/weekly-contest-462/problems/next-special-palindrome-number/)

<img src="https://raw.githubusercontent.com/ChenXuRiYue/image-cloud/main/typora/image-20250814131154291.png" alt="image-20250814131154291" style="zoom:50%;" />

${\large {\color[RGB]{250, 157, 30}å…¨è§£é›†}}$

è§‚å¯Ÿå‘ç° 2ï¼Œ4ï¼Œ6ï¼Œ8 å¯ä»¥è¡¨è¾¾16ä½çš„æŸä¸ªå¶æ•°æ•°å­—ã€‚å› æ­¤ä»…éœ€è€ƒè™‘ $17$ ä½é‡Œçš„å›æ–‡æ•°ã€‚
è§‚å¯Ÿå‘ç°æœ€åå¥‡æ•°è‡³å¤šæœ‰ä¸€ä¸ª + 0 æœ€å¤š
å› æ­¤æœ€ç»ˆæ•°å­—é€‰å–ä¸Šä¸è¶…è¿‡ï¼š$2^4\times 5$  ç§ã€‚
è€Œå›æ–‡æ•°æ€»æ•° $Sum\lt 2^4\times 5 \times 8! =40,320  $ ã€‚å› æ­¤å¯ä»¥ç›´æ¥æšä¸¾å‡ºæ‰€æœ‰çš„å›æ–‡æ•°ã€‚

å…·ä½“çš„æšä¸¾æ–¹å¼ä¸Šï¼š

1. æšä¸¾æ‰€æœ‰æ•°å­—ç»„åˆ
2. æšä¸¾æ•°å­—æ€»æ•°çš„å…¨æ’åˆ—

```cpp
bool flag = false;
vector<long long> nums;

void init() {
  if(flag) return;
  flag = true;
  int a[] = {2, 4, 6, 8};
  int b[] = {1, 3, 5, 7, 9};
  for(int s = 0; s < (1 << 4); s++) {
    vector<int> choose;
    for(int i = 0; i < 4; i++) {
      if(s & (1 << i)) {
        choose.push_back(a[i]);
      }
    }
    // if(s != 6) continue;
    for(int i = 0; i < 6; i++) {


      // if(i != 5) continue;
      if(i != 5) choose.push_back(b[i]);
      if(choose.size() == 0) {
        continue;
      }

      // æ±‚å‡ºå¯¹åº”æ•°å­—çš„å…¨æ’åˆ—
      int numType = choose.size();
      // ç‰¹æ®Šå¤„ç† i == 0 æƒ…å†µ
      // æ’åˆ—
      int digSum = 0;
      for(int j = 0; j < numType; j++) {
        digSum += choose[j];
      }
      if(digSum > 17) { 
          if(i != 5) choose.pop_back();
          continue;
      }
      // åªè€ƒè™‘ä¸€åŠï¼Œå‰ªçº¸
      digSum /= 2;


      // å¤„ç†å‡ºå„ä¸ªtag ä»£è¡¨çš„æ•°å­—
      vector<int> id_num;

      if(i == 0) numType--;
      for(int j = 0; j < numType; j++) {
        for(int k = 0; k < choose[j] / 2; k++) {
          id_num.push_back(choose[j]);
        }
      }

      vector<int> permute(id_num.size());
      iota(permute.begin(), permute.end(), 0);
      do {
        long long cur = 0;
        for(int j = 0; j < permute.size(); j++) {
          cur = cur * 10 + id_num[permute[j]];
        }
        if(i != 5) {
          cur = cur * 10 + choose.back();
        }
        for(int j = permute.size() - 1; j >= 0; j--) {
          cur = cur * 10 + id_num[permute[j]];
        }
        nums.push_back(cur);
      } while(next_permutation(permute.begin(), permute.end()));
      if(i != 5) choose.pop_back();
    }
  }
  sort(nums.begin(), nums.end());
  nums.erase(unique(nums.begin(), nums.end()), nums.end());
}

class Solution {
public:
    long long specialPalindrome(long long n) {
        init();
        return *upper_bound(nums.begin(), nums.end(), n);
    }
};
```

ä¸€ä¸ªææ€–çš„ ğŸ

if(i != 5) choose.push_back(b[i]); 

if(i != 5) choose.pop_back();

å½“ä½¿ç”¨äº†è¿™ç§æˆå¯¹çš„è¯­å¥æ—¶ï¼Œæ³¨æ„è¦ä¸¥æ ¼é‡Šæ”¾ã€‚

**è°ƒèŠ‚ ğŸ æ€»ç»“**

åœ¨ä¿®æ”¹è¿™ä¸ª bug çš„è¿‡ç¨‹ä¸­ï¼Œä¸ºäº†æ–¹ä¾¿å¤„ç†æˆ‘ä½¿ç”¨äº†goto å‘ç° goto å¯¹è·³è¿‡è¯­å¥å—çš„åˆå§‹åŒ–æœ‰ä¸¥æ ¼è¦æ±‚ã€‚ä¸æ¨èç”¨ goto çš„ä¸»è¦åŸå› æ˜¯å®ƒè¦æ±‚è·³è¿‡çš„è¯­å¥å—ä¸­çš„åˆå§‹åŒ–å˜é‡éƒ½è¦æå‰ï¼Œé€ æˆè¯­ä¹‰ç†è§£å›°éš¾ã€‚

${\large {\color[RGB]{250, 157, 30} è´ªå¿ƒç®—æ³•}} $





${\large {\color[RGB]{250, 157, 30} dp æ–¹æ³•}} $







