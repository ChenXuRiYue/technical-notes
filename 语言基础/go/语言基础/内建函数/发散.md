# 发散问题

## new 和 make 的区别是什么？

### make
- **适用类型**：专用于内置引用类型：`slice`、`map`、`channel`。
- **功能**：分配内存并初始化底层数据结构，返回类型本身（非指针）。
- **设计目的**：
  - 隐藏指针操作，简化开发者使用。
  - 避免值类型拷贝的性能开销。
  - 通过封装限制引用滥用，保证简洁性和安全性。
- **示例**：`s := make([]int, 3)` 创建一个长度为 3 的切片。

### new
- **适用类型**：适用于任何类型（包括结构体、基本类型等）。
- **功能**：分配内存并置零值，返回指向该内存的指针（`*T`）。
- **设计目的**：提供灵活的指针管理，适合需要显式控制内存的场景。
- **示例**：`p := new(int)` 返回 `*int`，值为 0。

### 核心区别
- `make` 初始化引用类型，`new` 只分配内存。
- `make` 返回 `T`，`new` 返回 `*T`。