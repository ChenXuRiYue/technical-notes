# ğŸ“Œ å¦‚ä½•ç¼–å†™æµ‹è¯•

## ğŸ“„ æµ‹è¯•å‡½æ•°å‰–æ

```rust
pub fn add(left: u64, right: u64) -> u64 {
    left + right
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn it_works() {
        let result = add(2, 2);
        assert_eq!(result, 4);
    }
}
```

- fn ä¹‹å‰ä½¿ç”¨ #[test]ï¼Œè¿™ä¸ªå±æ€§è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å‡½æ•°
- ç¤ºä¾‹å‡½æ•°ä½“é€šè¿‡ä½¿ç”¨ `assert_eq!` å®æ¥æ–­è¨€ `result`ï¼ˆå…¶ä¸­åŒ…å« 2 åŠ  2 çš„ç»“æœï¼‰ç­‰äº 4

æ‰§è¡Œè¾“å‡ºç»“æœ demo:

```rust
$ cargo test
   Compiling adder v0.1.0 (file:///projects/adder)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.57s
     Running unittests src/lib.rs (target/debug/deps/adder-01ad14159ff659ab)

running 1 test
test tests::it_works ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests adder

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s
```

## ğŸ“„ assert! å®

æ ‡å‡†åº“æä¾›çš„æ–­è¨€è¯­æ³•

`assert!(flag boolean);`

- falseï¼šè°ƒç”¨ panic! å®ï¼Œå¯¼è‡´æµ‹è¯•å¤±è´¥ 

## ğŸ“„ assert_eq! å’Œ assert_ne å®æµ‹è¯•ç›¸ç­‰

å°è£…äº†æ¯”è¾ƒçš„å¸¸ç”¨æ–¹æ³•ã€‚

- assert_eq! `equal`
- assert_ne `not equal`

## ğŸ“„ è‡ªå®šä¹‰å¤±è´¥ä¿¡æ¯

```rust
#[test]
fn greeting_contains_name() {
    let result = greeting("Carol");
    assert!(
        result.contains("Carol"),
        "Greeting did not contain name, value was `{result}`"
    );
}

```

## ğŸ“„ ä½¿ç”¨ should_panic æ£€æŸ¥ panic 

é™¤äº†æ£€æŸ¥è¿”å›å€¼ä¹‹å¤–ï¼Œæ£€æŸ¥ä»£ç æ˜¯å¦æŒ‰ç…§æœŸæœ›å¤„ç†é”™è¯¯,å¯ä»¥é€šè¿‡å¯¹å‡½æ•°å¢åŠ å¦ä¸€ä¸ªå±æ€§ `should_panic` æ¥å®ç°ã€‚

```rust
pub struct Guess {
    value: i32,
}

// --snip--

impl Guess {
    pub fn new(value: i32) -> Guess {
        if value < 1 {
            panic!(
                "Guess value must be greater than or equal to 1, got {value}."
            );
        } else if value > 100 {
            panic!(
                "Guess value must be less than or equal to 100, got {value}."
            );
        }

        Guess { value }
    }
}

#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    #[should_panic(expected = "less than or equal to 100")]
    fn greater_than_100() {
        Guess::new(200);
    }
}
```

**æŠ¥é”™ä¿¡æ¯**

å¤±è´¥ä¿¡æ¯è¡¨æ˜æµ‹è¯•ç¡®å®å¦‚æœŸæœ› panic äº†ï¼Œä¸è¿‡ panic ä¿¡æ¯ä¸­å¹¶æ²¡æœ‰åŒ…å«æœŸæœ›çš„ä¿¡æ¯ `less than or equal to 100`ã€‚

```markdown
$ cargo test
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.66s
     Running unittests src/lib.rs (target/debug/deps/guessing_game-57d70c3acb738f4d)

running 1 test
test tests::greater_than_100 - should panic ... FAILED

failures:

---- tests::greater_than_100 stdout ----

thread 'tests::greater_than_100' panicked at src/lib.rs:12:13:
Guess value must be greater than or equal to 1, got 200.
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
note: panic did not contain expected string
      panic message: `"Guess value must be greater than or equal to 1, got 200."`,
 expected substring: `"less than or equal to 100"`

failures:
    tests::greater_than_100

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

error: test failed, to rerun pass `--lib`
```

## ğŸ“„ åœ¨æµ‹è¯•ä¸­ä½¿ç”¨ Result<Tï¼ŒE>

ä»¥ä¸‹ä¾‹å­ï¼Œåœ¨å¤±è´¥æ—¶è¿”å› `Err` è€Œé panic

```rust
#[test]
fn it_works() -> Result<(), String> {
    let result = add(2, 2);

    if result == 4 {
        Ok(())
    } else {
        Err(String::from("two plus two does not equal four"))
    }
}
```

è¿™æ ·ç¼–å†™æµ‹è¯•æ¥è¿”å› `Result<T, E>` å°±å¯ä»¥åœ¨å‡½æ•°ä½“ä¸­ä½¿ç”¨é—®å·è¿ç®—ç¬¦ï¼Œå¦‚æ­¤å¯ä»¥æ–¹ä¾¿çš„ç¼–å†™ä»»ä½•ä¼šè¿”å› `Err` å˜ä½“çš„æ“ä½œçš„æµ‹è¯•ã€‚
æ³¨æ„ï¼š

- ä¸èƒ½å¯¹è¿™äº›ä½¿ç”¨ `Result<T, E>` çš„æµ‹è¯•ä½¿ç”¨ `#[should_panic]` æ³¨è§£ã€‚
- ä¸ºäº†æ–­è¨€ä¸€ä¸ªæ“ä½œè¿”å› `Err` æˆå‘˜ï¼Œ**ä¸è¦**å¯¹ `Result<T, E>` å€¼ä½¿ç”¨é—®å·è¡¨è¾¾å¼ï¼ˆ`?`ï¼‰ã€‚è€Œæ˜¯ä½¿ç”¨ `assert!(value.is_err())`ã€‚

## ğŸŒ³ ç”Ÿé•¿æ€è€ƒ

å¯¹å‘æ•£çš„è‡ªç”±æ•æ‰ã€ç²¾ç¡®åŒ–

## ğŸ’­ åå¤ç»Šè„š

è®°å½•å›é¡¾ã€ä½¿ç”¨æ–‡æ¡£æ—¶ï¼Œé‡åˆ°çš„å›°æƒ‘



## ğŸ—ºï¸ ä¿®è®¢è®°å½•

é‡è¦ä¿®è®¢è®°å½•

## ğŸ› ï¸ å®è·µç»å†

è®°å½•å®è·µç»å†ï¼š demo + å·¥ä½œç»å† + ç¬¬ä¸‰æ–¹ä¼˜ç§€ç»éªŒåæ€



## âš™ï¸ prompt

æ¢ç©¶è¯¥æ–‡æ¡£æ¨¡å—è¿‡ç¨‹ä¸­çš„ prompt è®°å½•
æ¨¡ç‰ˆå¦‚ä¸‹ï¼š

```markdown
# èƒŒæ™¯
æˆ‘æ˜¯ä¸€åè¿½æ±‚æ•ˆç‡çš„å­¦ä¹ è€…ã€‚æˆ‘ä»äº‹äºJavaåç«¯å¼€å‘å·¥ç¨‹å¸ˆçš„å·¥ä½œã€‚
æˆ‘è®¤ä¸ºå­¦ä¹ æœ¬è´¨ä¸Šå°±æ˜¯ å¤§é‡æ­£ç¡®ä¿¡æ¯çš„æ¶ˆåŒ– + å…³é”®ç»“è®ºçš„æ„Ÿå— + è‡ªç”±çš„å‘æ•£ã€‚
ä¾æ‰˜è¿™æ ·çš„æ€æƒ³ï¼Œæˆ‘å¸Œæœ›å’Œä½ æ¥è¿›è¡Œä¸€åœºtalkã€‚

æˆ‘ä»¬çš„ talk åŸºäºä»¥ä¸‹åŸåˆ™
1. ä½ æ˜¯ è¯¥talk ä¸»é¢˜ä¸‹çš„ä¸“å®¶
2. æˆ‘æ˜¯ä¸€ååœ¨å…¶ä»–é¢†åŸŸå…·æœ‰é€šç”¨æ€§æŠ€èƒ½çš„å·¥ç¨‹å¸ˆï¼Œå¦‚ Javaã€ä¼ ç»Ÿç®—æ³•ã€åç«¯å·¥ç¨‹ã€C++ è¯­æ³•ã€Go è¯­æ³•ç­‰ã€‚æ‹¥æœ‰ä¸€å®šè®¡ç®—æœºåŸºç¡€çš„çŸ¥è¯†ã€‚
3. æˆ‘ä»¬æ˜¯ä¸åŒé¢†åŸŸçš„æ“…é•¿è€…ï¼Œè¿™æ˜¯ä¸€åœºåœ†æ¡Œä¼šè®®å¼çš„talkã€‚å°±å’Œç´¢å°”ç»´ä¼šè®®ä¸€æ ·ï¼Œé˜¿å°”ä¼¯ç‰¹Â·çˆ±å› æ–¯å¦ä¸å°¼å°”æ–¯Â·ç»å°”ä¹‹é—´çš„äº¤æµã€‚
4. ä»¥ä½ çš„æƒé‡ä¸ºä¸»å‰æä¸‹ï¼Œæˆ‘å¸Œæœ›æˆ‘ä»¬ç›¸äº’çš„é—®è¯¢æ„Ÿå…´è¶£çš„å†…å®¹ã€‚è¿™æ ·å¯ä»¥æ¨åŠ¨ talk çš„è¿›åº¦ã€‚
# talk ä¸»é¢˜


# æ€ç»´é“¾
1. æˆ‘å¯¹ä¿¡æ¯çš„è¦æ±‚æ˜¯ï¼Œä½ åº”è¯¥å‡å°‘å¹»è§‰ï¼Œå³ä¿¡æ¯æ˜¯è¶³å¤Ÿæ­£ç¡®çš„
2. æˆ‘æ€»æ˜¯å¯¹ä¸€ä»¶äº‹ç‰©çš„æ˜¯ä»€ä¹ˆã€ä»å“ªé‡Œæ¥æ„Ÿåˆ°å¥½å¥‡ã€‚æ‰€ä»¥ï¼Œä½ å¯ä»¥ç®€ç•¥è¯´æ˜å®ƒçš„å†å²é˜¶æ®µä»¥åŠå‘å±•å“²å­¦
3. æˆ‘ä¸€è¾¹å’Œä½  talkï¼Œä¸€è¾¹åšè‰ç¨¿ç¬”è®°ã€‚å› æ­¤ä½ çš„è¨€è¯­è¶³å¤Ÿå¼€é˜”ï¼Œå…·æœ‰é˜è¿°æ€§çš„åŒæ—¶ï¼Œä¹Ÿè¦è®©æˆ‘å®¹æ˜“ä»ä¸­è®°å½•å½’çº³æ€»ç»“ã€‚ä½†æ˜¯è¯·ä½ ä¸è¦ç›´æ¥ç»™æˆ‘æ€»ç»“ç¬”è®°ï¼Œå› ä¸ºæˆ‘å¸Œæœ›å¯ä»¥ä¸»åŠ¨æ¶ˆåŒ–ã€‚

# è¾“å…¥æ ¼å¼
æˆ‘å°†ä¼šè¾“å…¥ä¸€ä¸ªé—®é¢˜

# è¾“å‡ºæ ¼å¼
ä¸éœ€è¦ç‰¹æ®Šçš„æ¨¡ç‰ˆã€‚å‚ç…§æ€ç»´é“¾
# å½“å‰é—®é¢˜


# é—®é¢˜é˜¶æ®µ(è®°å½•äº† talk çš„è¿‡ç¨‹ï¼Œæ–¹ä¾¿å¤ç”¨)


--------
ä»¥ä¸‹å†…å®¹æ˜¯æˆ‘æ–¹ä¾¿å¤åˆ¶ç²˜è´´æ¨¡ç‰ˆï¼Œè¯·ä½ å¿½ç•¥
## é—®é¢˜Xï¼š
### é—®é¢˜æè¿°ï¼š

### å…³é”®ç»“è®ºï¼š
```



