# 📝 自由发散

## ❓ AI 和 算力是什么关系，为什么算力是 GPU 而不是 CPU

- 现代 AI 尤其深度学习，核心是海量的矩阵运算（如矩阵乘法、卷积、激活函数）
- 运算简单，但是数量庞大 （GPT-4 拥有月 1.8万亿参数，训练一次需要执行 数百亿亿亿次浮点运算）

**算力：** 单位时间能够完成多少计算任务，常用 TFLOPS 指标（每秒万亿浮点运算）



**GPU**：的核心数非常多，如 RTX 5090 有超过 2 万个。非常擅长并行、简单重复计算。
**CPU**：擅长串行、复杂逻辑控制。单核性能强但并行效率低、功耗高。



## ❓ 模型的参数量是什么？

~~大语言模型 （LLM）中，参数量代表了一个模型的能力。 （然后没了？）~~
模型在训练过程中需要学习和存储的可调参数的总数。

**影响：**

- **表达能力（Capacity）**
  参数越多，模型理论上能学习更复杂的模式和更丰富的语言规律。比如理解上下文、推理、多语言等。
- **性能与效果**
  在一定范围内，参数量越大，模型在各种任务上的表现通常越好（但不是绝对的，还受数据质量、训练方法等影响）。
- **资源消耗**
  参数量越大，对计算资源（GPU/TPU）、内存和推理时间的要求也越高。例如：
  - 7B（70亿）参数的模型可能可以在消费级显卡上运行；
  - 而 70B 或更大的模型通常需要多张高端 GPU 才能加载和推理。

## ❓ 上下文 TOKEN 是什么？

- **token：** 大模型使用分词器下，文本长度的数量化表达。**token 是模型“看到”的基本单位，不是语言学上的“词”**。

- 模型一次能处理的最大输入+输出 token 数量。

截止（2025.2.3），常用大模型的 Token

GLM 4.7 - 200k
....

## ❓ MCP 是什么？

**模型上下文协议**

MCP 是一种 **基于 JSON-RPC 的通信协议**，定义了：

- LLM 如何**发现**可用的外部工具（如搜索、代码执行、数据库查询）
- LLM 如何**调用**这些工具
- 工具如何**返回结构化结果**给 LLM



MCP **不是模型本身**，也不是最终用户应用，而是**位于大语言模型（LLM）和外部工具/数据源之间的一层中间件**，其作用是：

> **让 LLM 能以统一、安全、可发现的方式调用任意外部能力（如 GitLab、Elasticsearch、数据库、API 等）**。



### 🌳 Q+Q

- 为什么大语言模型不利用自己的知识，直接调用 API 呢？
  - LLM 难以避免出现幻觉：域名、配置、认证等等都无法打通
  - LLM 没有权限
  - 安全认证：给大模型提供了 token，等于把凭证提交给了黑盒
  - API 不稳定，LLM 无法适应变更
  - 输出格式不统一，LLM 难以理解

**MCP 就是 AI Agent 时代的“文件系统驱动层”** —— 让智能体安全、可靠地使用外部世界的能力。

一般技术栈是用 python 写的。



## ❓ Agent 和 LLM 的区别是什么？

- Agent：智能体
- LLM：大语言模型

> LLM 是 Agent 的“大脑”（核心推理引擎），而 Agent 是一个完整的“AI 系统”，它使用 LLM 作为组件之一来完成复杂任务。

### 🌳 Q+Q

从 LLM 到 Agent 要付出什么工程上的努力？

- 工具集成：封装 MCP、安全系统等。产出一个 可插拔、可观测、安全的工具平台

  

- 状态和流程管理：支持复杂任务的执行

  | 工作内容                              | 工程投入                                       |
  | ------------------------------------- | ---------------------------------------------- |
  | 实现任务分解（Plan → Subtasks）       | 设计 Plan-Execute-Reflect 循环逻辑             |
  | 持久化中间状态（如已创建的 issue ID） | 引入数据库（SQLite/PostgreSQL）或内存状态机    |
  | 支持中断恢复（Crash Recovery）        | 序列化任务 DAG，支持 checkpoint/replay         |
  | 多 Agent 协作（如 Manager + Worker）  | 实现消息队列（Redis Pub/Sub、Kafka）或共享记忆 |

- 可靠性与容错

  | 工作内容                           | 工程投入                                               |
  | ---------------------------------- | ------------------------------------------------------ |
  | 错误分类与处理（API 错 vs 逻辑错） | 定义错误码体系，设计 fallback 策略                     |
  | 自我反思（Self-Reflection）        | 让 LLM 分析失败原因并调整计划（需 prompt engineering） |
  | 人工干预接口（Human-in-the-loop）  | 提供审批流、暂停/继续按钮、修正建议入口                |
  | 超时与资源限制                     | 设置最大步数、最长运行时间，防死循环                   |

- 可观测性与戎策

  | 工作内容                                   | 工程投入                                  |
  | ------------------------------------------ | ----------------------------------------- |
  | 全链路日志（每一步的输入/输出/工具调用）   | 结构化日志（JSONL）+ ELK/Grafana 可视化   |
  | 性能指标（LLM 延迟、工具响应时间、成功率） | Prometheus metrics + 告警规则             |
  | 交互式调试面板                             | 类似 LangSmith / LangFuse 的 trace 查看器 |
  | A/B 测试框架                               | 对比不同 LLM 或策略的效果                 |

- 安全合规

  | 工作内容                                     | 工程投入                                                   |
  | -------------------------------------------- | ---------------------------------------------------------- |
  | 最小权限原则（Principle of Least Privilege） | 为每个工具分配独立 token，限制项目/表访问范围              |
  | 输入/输出过滤（防 prompt injection）         | 对用户输入做 sanitization，对 LLM 输出做 schema validation |
  | 操作审计日志                                 | 记录谁在何时触发了什么操作（满足 SOC2/GDPR）               |
  | 沙箱执行（如代码解释器）                     | 用 Docker/gVisor 隔离危险操作                              |

## ❓ cursor、claude、opencode、devcodx 类软件体系定位

- Cursor 深度集成 LLM 的编辑器
- Claude：一个强大的大语言编程模型
- Claude code、 编程体 agent

大概收集

| 产品                       | 开发商            | 类型       | 运行环境                 | 核心特点                              | 价格         | 开源 | 支持模型                 | 最佳适用场景                         |
| -------------------------- | ----------------- | ---------- | ------------------------ | ------------------------------------- | ------------ | ---- | ------------------------ | ------------------------------------ |
| **Claude Code**            | Anthropic         | 终端 Agent | 本地终端                 | MCP 扩展、自主任务、Git 深度集成      | \$20-200/月  | ❌    | Claude 3.5/4             | 终端工作流、复杂重构、CI/CD 自动化   |
| **OpenAI Codex CLI**       | OpenAI            | 终端 Agent | 本地终端                 | 开源免费、Rust 构建、三级模式         | 免费         | ✅    | GPT-4.1/Codex            | 隐私优先、零成本、快速原型           |
| **Aider**                  | 开源社区          | 终端 Agent | 本地终端                 | Git 原生、语音输入、多模型支持        | 免费         | ✅    | Claude/GPT/DeepSeek/本地 | 开源偏好、灵活模型选择、复杂重构     |
| **Cursor**                 | Anysphere         | AI IDE     | 桌面应用                 | Composer、可视化 diff、多模型         | \$20-40/月   | ❌    | GPT-4/Claude/Gemini      | AI 原生开发、可视化编辑、团队协作    |
| **Windsurf**               | Codeium/Cognition | AI IDE     | 桌面应用                 | Cascade Agent、Flows 模式、实时预览   | 免费/Pro     | ❌    | Claude/GPT/自定义        | 免费用户、快速原型、混合工作流       |
| **Replit Agent**           | Replit            | 云端 IDE   | 浏览器                   | 200 分钟无人值守、全栈生成、零部署    | 免费/付费    | ❌    | 自有模型                 | 快速原型、教学、无环境配置           |
| **GitHub Copilot**         | GitHub/微软       | IDE 插件   | VS Code/JetBrains/Neovim | 实时代码补全、GitHub 生态集成         | \$10-39/月   | ❌    | GPT-4/Codex/自定义       | 日常编码、学习曲线平缓、预算有限     |
| **Tabnine**                | Tabnine           | IDE 插件   | 多 IDE/自托管            | 企业级自托管、隐私优先、合规认证      | \$59+/月     | ❌    | Claude/GPT/Gemini/本地   | 金融/医疗/政府等受监管行业           |
| **Augment Code**           | Augment           | IDE 插件   | VS Code/JetBrains        | 企业级上下文引擎、高准确率            | 企业定价     | ❌    | 自有模型                 | 大型企业、复杂代码库、高可靠性       |
| **OpenHands**              | 开源社区          | 开源 Agent | 本地/云端                | 67k+ stars、社区活跃、功能全面        | 免费         | ✅    | 多种                     | 自托管需求、社区支持、定制化         |
| **SWE-agent**              | 学术团队          | 开源 Agent | 本地                     | 专注软件工程、学术背景、18k+ stars    | 免费         | ✅    | GPT-4/Claude             | 研究用途、软件工程任务自动化         |
| **OpenCode**               | 开源社区          | 开源 Agent | 本地                     | 新兴项目、74k+ stars、快速增长        | 免费         | ✅    | 多种                     | 最新开源方案、社区驱动               |
| **RooCode**                | RooCode 团队      | 开源/商业  | VS Code 插件             | 高可靠性、大型多文件变更、稳定        | 免费/Pro     | ✅    | Claude/GPT/DeepSeek      | 大型项目、企业级稳定性需求           |
| **Amazon CodeWhisperer**   | AWS               | IDE 插件   | VS Code/JetBrains        | AWS 生态集成、安全扫描                | 免费-\$19/月 | ❌    | 自有模型                 | AWS 重度用户、云原生开发             |
| **JetBrains AI Assistant** | JetBrains         | IDE 内置   | JetBrains 全家桶         | 深度 IDE 集成、本地模型支持           | \$10-50/月   | ❌    | GPT/本地模型             | JetBrains 忠实用户、Java/Kotlin 开发 |
| **Codeium**                | Codeium           | IDE 插件   | VS Code/JetBrains/Neovim | 免费额度高、自托管选项、70+ IDE       | 免费/Pro     | ❌    | 自有模型                 | 免费替代 Copilot、多 IDE 支持        |
| **Supermaven**             | Supermaven        | IDE 插件   | VS Code/JetBrains/Neovim | 上下文窗口大（100 万 tokens）、速度快 | \$10/月      | ❌    | 自有模型                 | 超大代码库、速度敏感                 |
| **Cody**                   | Sourcegraph       | IDE 插件   | VS Code/JetBrains        | 代码搜索集成、企业级代码智能          | 免费/Pro     | ❌    | Claude/GPT/自定义        | 需要代码搜索、大型企业代码库         |
| **Continue**               | Continue 团队     | IDE 插件   | VS Code/JetBrains        | 开源、本地优先、隐私保护              | 免费         | ✅    | 多种                     | 隐私优先、开源偏好、本地模型         |
| **PearAI**                 | PearAI            | AI IDE     | 桌面应用                 | 开源、基于 VS Code、集成多种 AI       | 免费/Pro     | ✅    | GPT/Claude/本地          | 开源 AI IDE、预算有限                |
