# 📌 序列化

在端点之间信息交互时，对信息转换成交互方可以识别的信息格式称为序列化。

## 📄 序列化定义

### 🔖 通用背景描述

我们不妨先回到计算的本质：程序是对状态的建模与变换。一个对象、一个数据结构、甚至一整个服务进程，其“意义”往往不在于代码的形态，而在于某一时刻它的**状态**——字段的值、引用的关系、内存中的布局。

但状态是脆弱且局域的。它存在于某个进程的内存空间中，依赖特定的语言运行时，受制于物理机器的边界。当这个状态需要**跨越时间或空间**保存或传递时，我们就遇到了根本性障碍：如何让一个“活”的状态，变成可以被写入磁盘、塞进网络包、或在不同系统间流转的“死”的形式，并在另一端还原为“活”的状态？

这就是序列化的原始动机。

### 🔖 通用定义

> **将程序运行时的语义状态（semantic state），转化为一种语言无关、环境无关、可存储或可传输的线性字节序列的过程，以及在必要时，从该字节序列重建原始语义状态的逆过程。**

## 📄 性质

序列化机制是各个要素的权衡，本质上是在表达力、性能、可移植性、演进性之间寻求平衡的系统设计问题。它不是一个单纯的编码动作，而是涉及类型系统、版本控制、安全便捷、甚至分布式一致性的综合挑战。

**🔖 语义状态**

不是简单地拷贝内存布局。比如一个 Java 对象，它的语义状态包括字段值、继承关系、类型信息，甚至可能包含 transient 字段的隐式逻辑。序列化必须保留这些“有意义”的部分，而非物理表示。

**🔖 语言/环境无关性**

一个在 JVM 上创建的对象，能否被 Python 服务反序列化？这要求序列化格式必须脱离具体语言的运行时模型。JSON、Protocol Buffers、Avro 等格式的成功，正是因为它们定义了中立的数据模型（data model），如结构体、数组、基本类型，而非绑定到某一种语言的对象模型。

**🔖 线形字节序列**

这是工程实现的必然。无论网络传输还是磁盘存储，底层都是字节流。序列化必须将可能复杂的、图状的内存结构（如带循环引用的对象图）拍平为线性序列。这就引入了编码策略：如何表示类型？如何处理引用？如何保证字节序（endianness）一致？

**🔖 可逆性**

真正的序列化必须支持反序列化。但“完全还原”是个理想。实践中，我们常接受“语义等价”而非“内存一致”。比如反序列化后对象的 hashCode() 可能不同，但 equals() 仍成立。

## 📄 Spring 后端中的序列化

后端工程中的序列化场景主要集中于端点之间的通信。序列化的方式由端的语义、信道的约束共同决定。以下是不同场景的总结：

[HTTP.md](Spring场景序列化/HTTP.md) 
[Redis.md](Spring场景序列化/Redis.md) 
[Rpc-Dubbo.md](Spring场景序列化/Rpc-Dubbo.md)
[rabbitMq.md](Spring场景序列化/rabbitMq.md)
[mysql.md](Spring场景序列化/mysql.md) 


## 🌳 生长思考

对发散的自由捕捉、精确化

## 💭 反复绊脚

记录回顾、使用文档时，遇到的困惑



## 🗺️ 修订记录

重要修订记录

## 🛠️ 实践经历

记录实践经历： demo + 工作经历 + 第三方优秀经验反思



## ⚙️ prompt

探究该文档模块过程中的 prompt 记录
模版如下：

```markdown
# 背景
我是一名追求效率的学习者。我从事于Java后端开发工程师的工作。
我认为学习本质上就是 大量正确信息的消化 + 关键结论的感受 + 自由的发散。
依托这样的思想，我希望和你来进行一场talk。

我们的 talk 基于以下原则
1. 你是 该talk 主题下的专家
2. 我是一名在其他领域具有通用性技能的工程师，如 Java、传统算法、后端工程、C++ 语法、Go 语法等。拥有一定计算机基础的知识。
3. 我们是不同领域的擅长者，这是一场圆桌会议式的talk。就和索尔维会议一样，阿尔伯特·爱因斯坦与尼尔斯·玻尔之间的交流。
4. 以你的权重为主前提下，我希望我们相互的问询感兴趣的内容。这样可以推动 talk 的进度。
# talk 主题
从计算机系统、计算机网络、服务端工程讨论序列化

# 思维链
1. 我对信息的要求是，你应该减少幻觉，即信息是足够正确的
2. 我总是对一件事物的是什么、从哪里来感到好奇。所以，你可以简略说明它的历史阶段以及发展哲学
3. 我一边和你 talk，一边做草稿笔记。因此你的言语足够开阔，具有阐述性的同时，也要让我容易从中记录归纳总结。但是请你不要直接给我总结笔记，因为我希望可以主动消化。

# 输入格式
我将会输入一个问题

# 输出格式
不需要特殊的模版。参照思维链
# 当前问题
我开始了解 Http，尤其是Spring 的 web 框架下的序列化方式

# 问题阶段(记录了 talk 的过程，方便复用)
## 问题1：
1.1 问题描述：
我希望和你探讨怎么定义一个问题

1.2 关键结论：
将程序运行时的语义状态（semantic state），转化为一种语言无关、环境无关、可存储或可传输的线性字节序列的过程，以及在必要时，从该字节序列重建原始语义状态的逆过程。

--------
以下内容是我方便复制粘贴模版，请你忽略
## 问题X：
1.1 问题描述：

1.2 关键结论：
```



